import numpy as np                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
import matplotlib.pyplot as plt
import scipy
import vegas 
from scipy.optimize import curve_fit
import scipy.integrate as integrate
import scipy.special as special

#Tell me the potential NB-Unsure of the boundary of the potential when should it be zero?
def V(x):
    V=1/2*(x**2)
    return V

#Our configuration is a set of x values hence I will need to do a for loop 4
#time step this should be defined from space file but ill just quickly define it here

a= 4/7 #4 temporal points, 7 spatial 
m=1    #Mass is set to 1 

#function to integrate 
def f(x):
    E=0
    for i in range(1,len(x)):
        E += (m/2)*(((x[i]-x[i-1])/a)**2)+V((x[i]+x[i-1]))
    return np.exp(-a*E)

def f_prime(x):
    E=0
    for i in (1,len(x)):
         E += (m/2)*(((x[i]-x[i-1])/a)**2)+V((x[i]+x[i-1]))
    return np.exp(-a*E)


def G(y): 
    integ=vegas.Integrator([[0,y],[-7,7],[-7,7],[-7,7],[-7,7],[-7,7],[0,y]]) 
    result=integ(f,nitn=50, neval=1e4)

    return('result = %s    Q = %.2f' % (result, result.Q))

integ=vegas.Integrator([])
z=integ(f,nitn=50, neval=1e4)

#These arent normalised. So plot function, and then get area, and then divide values. 
#Use scipy, set a loop to collect points instead of the clumsy by hand way I do 